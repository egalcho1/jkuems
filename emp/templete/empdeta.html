{% extends "core/base.html" %}
{% load static %}
{% block content %}
<script type="text/javascript" src="{%static 'jq/jq.js' %}"></script>
<link rel="stylesheet" href="{%static 'cssb/bootstrap.min.css' %}">
<script type="text/javascript" src="{%static 'js/bootstrap.min.js' %}"></script>


{% if ep == None %}
<div class="container emp-profile">

    <div class="row">
        <div class="col-md-5">

            <div class="alert alert-warning">
                <svg width="1.0625em" height="1em" viewBox="0 0 17 16" class="bi bi-exclamation-triangle"
                    fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd"
                        d="M7.938 2.016a.146.146 0 0 0-.054.057L1.027 13.74a.176.176 0 0 0-.002.183c.016.03.037.05.054.06.015.01.034.017.066.017h13.713a.12.12 0 0 0 .066-.017.163.163 0 0 0 .055-.06.176.176 0 0 0-.003-.183L8.12 2.073a.146.146 0 0 0-.054-.057A.13.13 0 0 0 8.002 2a.13.13 0 0 0-.064.016zm1.044-.45a1.13 1.13 0 0 0-1.96 0L.165 13.233c-.457.778.091 1.767.98 1.767h13.713c.889 0 1.438-.99.98-1.767L8.982 1.566z" />
                    <path
                        d="M7.002 12a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 5.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 5.995z" />
                </svg>

                <p><b>Note: </b>
                <ul>
                    <li>It takes some time to turn on the scanner if your computer hardware
                        does not meet the requirements of the face recognition software</li>
                    <li>consider providing good lighting and good resolution cameras
                        for the software to work properly</li>
                </ul>
                <small>(this window will disappear after running the first scan)</small>
                </p>

            </div>
        </div>
        <div class="col-md-1">

        </div>

        <div class="col-md-6">
            <div>
                <img src="{% static 'pic/p.jpg'%}" alt="" width="99%">
            </div>
        </div>

    </div>
</div>
{% else %}
<div class="container emp-profile">
    <div class="row">
        <div class="col-md-4">
            <div class="profile-img">
                <img src="{{ep.image.url }}" alt="" style="width:100px;height:100px" />
            </div>
        </div>
        <div class="col-md-6">
            <div class="profile-head">
                <h5>
                    {{ep.first_name}} {{ep.last_name}}
                </h5>
                <h6>
                    {{ep.profession }}
                </h6>
                <p class="proile-rating">RANKINGS : <span>{{profile.ranking}}/10</span></p>
                <ul class="nav nav-tabs" id="myTab" role="tablist">
                    <li class="nav-item">
                        <a class="nav-link active" id="home-tab" data-toggle="tab" href="#home" role="tab"
                            aria-controls="home" aria-selected="true">About</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" id="profile-tab" data-toggle="tab" href="#profile" role="tab"
                            aria-controls="profile" aria-selected="false">Timeline</a>
                    </li>
                </ul>
            </div>
        </div>
        <div class="col-md-2">
            <button type="button" class="btn btn-primary" data-bs-toggle="modal" data-bs-target="#exampleModal">
                MSC
            </button></button>&nbsp;&nbsp; &nbsp;&nbsp; &nbsp;&nbsp;<button type="button" class="btn btn-primary"
                data-bs-toggle="modal" data-bs-target="#exampleModal1">
                PHD
            </button>
            <button type="button" class="btn" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                edit profile
            </button>
        </div>
    </div>
    <div class="row">
        <div class="col-md-4">
            <div class="profile-work">
                <p>spacific profetion</p>
                <a href="">Web dveloper</a><br />
                <a href="">student</a><br />
                <a href="">lecturer</a>
                <p>skill</p>
                <a href="">developer</a><br />
                <a href="">front end</a><br />
                <a href="">back end</a><br />
                <a href="">front end</a><br />
                <a href="">jku</a><br />
            </div>
        </div>
        <div class="col-md-8">
            <div class="tab-content profile-tab" id="myTabContent">
                <div class="tab-pane fade show active" id="home" role="tabpanel" aria-labelledby="home-tab">
                    <div class="row">
                        <div class="col-md-6">
                            <label>Profile Id</label>
                        </div>
                        <div class="col-md-6">
                            <p>{{forloop.counter}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label>Name</label>
                        </div>
                        <div class="col-md-6">
                            <p>{{ep.first_name}} {{ep.last_name}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label>Email</label>
                        </div>
                        <div class="col-md-6">
                            <p>{{ep.email}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label>Phone</label>
                        </div>
                        <div class="col-md-6">
                            <p>0{{ep.phone}}</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label>Profession</label>
                        </div>
                        <div class="col-md-6">
                            <p>{{ep.profession }}</p>
                        </div>
                    </div>
                </div>
                <div class="tab-pane fade" id="profile" role="tabpanel" aria-labelledby="profile-tab">
                    <div class="row">
                        <div class="col-md-6">
                            <label>Experience</label>
                        </div>
                        <div class="col-md-6">
                            <p>Expert</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label>Hourly Rate</label>
                        </div>
                        <div class="col-md-6">
                            <p>10$/hr</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label>Total Projects</label>
                        </div>
                        <div class="col-md-6">
                            <p>230</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label>English Level</label>
                        </div>
                        <div class="col-md-6">
                            <p>Expert</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-6">
                            <label>Availability</label>
                        </div>
                        <div class="col-md-6">
                            <p>6 months</p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-md-12">
                            <label>Your Bio</label><br />
                            <p>Your detail description</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">MSC certeficate information</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <b class="btn btn-danger">certeficate OF:</b>MSC degree<br><img src=""
                    style="width:400px;height:400px;" />
                <br><br>
                <p>certeficate validate status</p><b style="color: red;" class="btn btn-info">valid:</b><span
                    class="btn btn-warning" style="color:green">{{ep.valid}}</span>
                <br><br><b style="color:blue ;">MSC cmgpa:</b>&nbsp;&nbsp;<span style="color: red;">{{ep.mcmgpa}}</span>
                <br><br><b style="color:blue ;">MSc join date:</b>&nbsp;&nbsp;<span
                    style="color: red;">{{ep.msc}}</span>
                <br><br>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

            </div>
        </div>








    </div>
</div>
<div class="modal fade" id="exampleModal1" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">phd certeficate information</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <b class="btn btn-danger">certeficate OF:</b>PHD<br><img src="" style="width:400px;height:400px;" />
                <br><br>
                <p>certeficate validate status</p><b style="color: red;" class="btn btn-info">valid:</b><span
                    class="btn btn-warning" style="color:green">{{ep.valid}}</span>
                <br><br><b style="color:blue ;">PHD cmgpa:</b>&nbsp;&nbsp;<span style="color: red;">{{ep.pcmgpa}}</span>
                <br><br>
                <b style="color:blue ;">phd join date:</b>&nbsp;&nbsp;<span style="color: red;">{{ep.phd}}</span>
                <br><br>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

            </div>
        </div>
    </div>
</div>
</div>
</div>
</div>
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
    aria-labelledby="staticBackdropLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="staticBackdropLabel">update employees </h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <form action="" method="post" enctype="multipart/form-data" id="frm">
                    {%csrf_token%}

                    <label for="" class="form-label">enter frist name</label>
                    <input type="text" class="form-control " name="fname" id="fname" value="{{ep.first_name}}">


                    <label for="" class="form-label">enter last name</label>
                    <input type="text" class="form-control " name="lname" id="lname" value="{{ep.last_name}}">
                    <label for="" class="form-label">enter username</label>
                    <input type="text" class="form-control " name="username" id="username" value="{{ep.username}}">

                    <label for="" class="form-label">enter gender</label>
                    <input type="text" class="form-control is-valid" name="gender" id="gender" value="{{ep.gender}}">


                    <label for="" class="form-label">enter phone</label>
                    <input type="text" class="form-control " name="phone" id="phone" value="{{ep.phone}}">
                    <label for="" class="form-label">enter email</label>

                    <input type="email" class="form-control " name="email" id="email" value="{{ep.email}}">

                    <label for="" class="form-label">enter salary</label>
                    <input type="text" class="form-control " name="salary" id="salary" value="{{ep.salary}}">


                    <label for="" class="form-label">enter expriance</label>
                    <input type="text" class="form-control " name="exp" id="exp" value="{{ep.exp}}">
                    <label for="" class="form-label">enter position</label>
                    <input type="text" class="form-control " name="role" id="role" value="{{ep.role}}">
                    <label for="" class="form-label">enter graduated from</label>
                    <input type="text" class="form-control " name="gfrom" id="gfrom" value="{{ep.gfrom}}">


                    <label for="" class="form-label">enter graduated year</label>
                    <input type="date" class="form-control " name="gyear" id="gyear" value="{{ep.gyear}}">
                    <label for="" class="form-label">photo of employ</label>
                    <p>{{ep.bimage}}</p>
                    <input type="file" class="form-control " name="bimage" id="bimage" value="{{ep.bimage}}">
                    <button type="submit" class="btn btn-primary">save</button>
                </form>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>

            </div>
        </div>
    </div>
</div>
</div>
<script>
    var btn = document.querySelector('#btn');
    var fn = document.querySelector('#fname');
    fn.addEventListener('keyup', () => {
        if (fn.value != "" && fn.value.length >= 1) {
            fn.setAttribute("class", "form-control is-valid");
            btn.setAttribute("style", "display:block")
        } else {
            fn.setAttribute("class", "form-control is-invalid");
            fn.setAttribute("name", "");
            btn.setAttribute("style", "display:none")
        }
    })
    var ln = document.querySelector('#lname');
    ln.addEventListener('keyup', () => {
        if (ln.value != "" && ln.value.length >= 1) {
            ln.setAttribute("class", "form-control is-valid");
            btn.setAttribute("style", "display:block")
        } else {
            ln.setAttribute("class", "form-control is-invalid");
            ln.setAttribute("name", "");
            btn.setAttribute("style", "display:none")
        }
    })
    var un = document.querySelector('#username');
    un.addEventListener('keyup', () => {
        if (un.value != "" && un.value.length >= 1) {
            un.setAttribute("class", "form-control is-valid");
            btn.setAttribute("style", "display:block")
        } else {
            un.setAttribute("class", "form-control is-invalid");
            un.setAttribute("name", "");
            btn.setAttribute("style", "display:none")
        }
    })
    var pn = document.querySelector('#phone');
    pn.addEventListener('keyup', () => {
        if (pn.value != "" && pn.value.length >= 1) {
            pn.setAttribute("class", "form-control is-valid");
            btn.setAttribute("style", "display:block")
        } else {
            pn.setAttribute("class", "form-control is-invalid");
            pn.setAttribute("name", "");
            btn.setAttribute("style", "display:none")
        }
    })
    var em = document.querySelector('#email');
    em.addEventListener('keyup', () => {
        var en = em.value;
        var at = en.indexOf('@');
        var ps = en.lastIndexOf('.');
        if (at < 1 || ps < at + 2 || ps + 2 >= em.length) {
            em.setAttribute("value", "invalid email");
            em.setAttribute("class", "form-control is-invalid");
            em.setAttribute("name", "");
            btn.setAttribute("style", "display:none")
        } else {
            em.setAttribute("class", "form-control is-invalid");
            em.setAttribute("class", "form-control is-valid");
            btn.setAttribute("style", "display:block")
        }
    })
    var sl = document.querySelector('#salary');
    sl.addEventListener('keyup', () => {
        if (sl != "") {
            sl.setAttribute("class", "form-control is-valid");
            btn.setAttribute("style", "display:block")
        } else {
            sl.setAttribute("class", "form-control is-invalid");
            sl.setAttribute("name", "");

        }
    })
    var exp = document.querySelector('#exp');
    exp.addEventListener('keyup', () => {
        if (exp != "") {
            exp.setAttribute("class", "form-control is-valid");
            btn.setAttribute("style", "display:block")
        } else {
            exp.setAttribute("class", "form-control is-invalid");
            exp.setAttribute("name", "");

        }
    })
    var rol = document.querySelector('#role');
    rol.addEventListener('keyup', () => {
        if (rol != "") {
            rol.setAttribute("class", "form-control is-valid");
            btn.setAttribute("style", "display:block")
        } else {
            rol.setAttribute("class", "form-control is-invalid");
            rol.setAttribute("name", "");


        }
    })
    var gfrom = document.querySelector('#gfrom');
    gfrom.addEventListener('keyup', () => {
        if (gfrom != "") {
            gfrom.setAttribute("class", "form-control is-valid");
            btn.setAttribute("style", "display:block")
        } else {
            gfrom.setAttribute("class", "form-control is-invalid");
            gfrom.setAttribute("name", "");

        }
    })
    var gyear = document.querySelector('#gyear');
    gyear.addEventListener('change', () => {
        if (gyear != "") {
            gyear.setAttribute("class", "form-control is-valid");
            btn.setAttribute("style", "display:block")
        } else {
            gyear.setAttribute("class", "form-control is-invalid");
            gyear.setAttribute("name", "");

        }
    })
    var bimage = document.querySelector('#bimage');
    bimage.addEventListener('change', () => {
        if (bimage != "") {
            bimage.setAttribute("class", "form-control is-valid");
            btn.setAttribute("style", "display:block")
        } else {
            bimage.setAttribute("class", "form-control is-invalid");
            bimage.setAttribute("name", "");

        }
    })
</script>
{% endif %}



<p id="last_face" class="d-none">{{last_face}}</p>

<script>
   // setInterval(function () {
      //  var url = "{%url 'core:ajax' %}";
       // var last_face = document.getElementById('last_face').innerHTML;
       // $.ajax({
          //  url: url,
            //success: function (data) {
             //   if (data != last_face) {
               //     location.reload()
              //  }
           // }
       // })
   // }, 3000);

</script>

{% endblock content %}